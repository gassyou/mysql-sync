
 <ng-container *ngIf="percent === 100">
  <div style="text-align: center; color:#4e4e4e;font-weight:bold;"><a (click)="redo()">[重新比较]</a></div>
  <div *ngFor="let header of diffItems" >
      <div nz-row class="header"
        [ngClass]="[selectedId===header.id?'active':'',header.styleClass]"
        (mouseover)="header.styleClass='mouseover'"
        (mouseout)="header.styleClass='mouseout'"
        (click)="onItemClick(header)">
          <div nz-col nzSpan="12" class="header_left">
            <i nz-icon nzType="right" nzTheme="outline" *ngIf="!header.isSelected" (click)="header.isSelected=!header.isSelected"></i>
            <i nz-icon nzType="down" nzTheme="outline" *ngIf="header.isSelected" (click)="header.isSelected=!header.isSelected"></i>
            <span style="margin-left:8px">
              <i *ngIf="header.diff.type==='table'" nz-icon nzType="table" nzTheme="outline"></i>
              <i *ngIf="header.diff.type==='func'" nz-icon>
                <svg t="1585025744047" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5204" width="16" height="16"><path d="M510.665143 801.536c13.037714 0 22.253714-7.296 22.253714-20.333714 0-5.76-1.536-8.832-5.76-16.896-46.811429-72.502857-73.289143-155.757714-73.289143-245.924572 0-87.094857 24.941714-174.189714 73.289143-247.076571 4.205714-8.045714 5.76-11.117714 5.76-16.877714 0-12.288-9.216-20.333714-22.253714-20.333715-12.672 0-23.04 5.741714-35.291429 22.637715-57.563429 73.270857-86.710857 164.571429-86.710857 261.266285s27.995429 185.307429 86.692572 260.900572c12.288 16.877714 22.637714 22.637714 35.291428 22.637714z m391.716571 0c12.653714 0 22.637714-5.76 34.925715-22.637714C995.986286 703.305143 1024 614.692571 1024 517.997714c0-96.676571-28.781714-187.977143-86.710857-261.266285-12.269714-16.896-22.253714-22.637714-34.907429-22.637715-13.037714 0-22.253714 8.045714-22.253714 20.333715 0 5.76 1.152 8.813714 5.376 16.877714 48.731429 72.886857 73.654857 160 73.654857 247.076571 0 90.148571-26.843429 173.421714-73.270857 245.942857-4.608 8.045714-5.76 11.117714-5.76 16.877715 0 12.269714 9.216 20.333714 22.253714 20.333714z m-850.578285-0.768c75.190857 0 110.098286-32.237714 128.128-118.564571l43.739428-209.865143h69.449143c22.253714 0 36.443429-11.885714 36.443429-31.085715 0-16.475429-10.733714-26.843429-28.379429-26.843428h-64.841143l10.733714-52.169143c9.984-48.731429 25.325714-68.681143 67.913143-68.681143 6.144 0 12.269714-0.384 16.493715-0.768 19.2-1.92 27.611429-10.752 27.611428-27.245714 0-21.485714-18.011429-31.085714-54.857143-31.085714-73.270857 0-110.866286 36.461714-127.744 118.564571l-13.056 61.385143H115.858286c-22.235429 0-36.827429 11.885714-36.827429 31.085714 0 16.493714 11.136 26.843429 28.781714 26.843429h43.337143L108.982857 673.005714C98.194286 723.254857 82.468571 741.668571 41.435429 741.668571c-5.376 0-10.368 0.384-14.189715 0.768-17.664 2.304-27.245714 11.885714-27.245714 28.013715 0 20.717714 17.645714 30.317714 51.803429 30.317714z m539.044571-100.918857c12.653714 0 21.101714-4.205714 30.683429-18.029714l84.022857-119.698286h1.536l85.942857 121.618286c9.6 13.44 18.797714 16.109714 28.013714 16.109714 18.413714 0 30.701714-13.037714 30.701714-28.763429 0-7.296-2.304-14.189714-7.314285-20.717714l-98.194286-133.522286 98.194286-131.602285c5.010286-6.509714 7.314286-13.421714 7.314285-21.485715 0-16.493714-13.824-27.995429-29.165714-27.995428-13.805714 0-21.869714 6.912-29.165714 18.029714l-80.950857 118.546286h-1.92l-81.334857-118.930286c-7.296-11.136-16.493714-17.645714-31.085715-17.645714-17.645714 0-31.085714 14.189714-31.085714 29.531428 0 11.136 3.090286 18.048 8.466286 24.557715l93.220571 125.074285-98.980571 136.96c-5.76 7.314286-6.912 13.824-6.912 21.504 0 14.957714 12.672 26.459429 28.013714 26.459429z" p-id="5205"></path></svg>
              </i>
              <i *ngIf="header.diff.type==='view'" nz-icon>
                <svg t="1585025948651" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8824" width="16" height="16"><path d="M512 179.2c211.712 0 390.592 140.8 448 333.824a467.584 467.584 0 0 1-896 0A467.584 467.584 0 0 1 512 179.2z m0 578.048c159.104 0 298.88-99.2 353.536-244.224a378.048 378.048 0 0 0-707.072 0A378.048 378.048 0 0 0 512 757.248z" fill="#6D7383" p-id="8825"></path><path d="M512 672a160 160 0 1 0 0-320 160 160 0 0 0 0 320z m0-64a96 96 0 1 1 0-192 96 96 0 0 1 0 192z" fill="#6D7383" p-id="8826"></path></svg>
              </i>
              <span style="margin-left: 3px;">
                  <span *ngIf="header.diff.left else noItem">{{header.diff.left.name}}</span>
                </span>
            </span>
          </div>
        <div nz-col nzSpan="12" class="header_right">
          <i *ngIf="header.diff.type==='table'" nz-icon nzType="table" nzTheme="outline"></i>
          <i *ngIf="header.diff.type==='func'" nz-icon>
            <svg t="1585025744047" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5204" width="16" height="16"><path d="M510.665143 801.536c13.037714 0 22.253714-7.296 22.253714-20.333714 0-5.76-1.536-8.832-5.76-16.896-46.811429-72.502857-73.289143-155.757714-73.289143-245.924572 0-87.094857 24.941714-174.189714 73.289143-247.076571 4.205714-8.045714 5.76-11.117714 5.76-16.877714 0-12.288-9.216-20.333714-22.253714-20.333715-12.672 0-23.04 5.741714-35.291429 22.637715-57.563429 73.270857-86.710857 164.571429-86.710857 261.266285s27.995429 185.307429 86.692572 260.900572c12.288 16.877714 22.637714 22.637714 35.291428 22.637714z m391.716571 0c12.653714 0 22.637714-5.76 34.925715-22.637714C995.986286 703.305143 1024 614.692571 1024 517.997714c0-96.676571-28.781714-187.977143-86.710857-261.266285-12.269714-16.896-22.253714-22.637714-34.907429-22.637715-13.037714 0-22.253714 8.045714-22.253714 20.333715 0 5.76 1.152 8.813714 5.376 16.877714 48.731429 72.886857 73.654857 160 73.654857 247.076571 0 90.148571-26.843429 173.421714-73.270857 245.942857-4.608 8.045714-5.76 11.117714-5.76 16.877715 0 12.269714 9.216 20.333714 22.253714 20.333714z m-850.578285-0.768c75.190857 0 110.098286-32.237714 128.128-118.564571l43.739428-209.865143h69.449143c22.253714 0 36.443429-11.885714 36.443429-31.085715 0-16.475429-10.733714-26.843429-28.379429-26.843428h-64.841143l10.733714-52.169143c9.984-48.731429 25.325714-68.681143 67.913143-68.681143 6.144 0 12.269714-0.384 16.493715-0.768 19.2-1.92 27.611429-10.752 27.611428-27.245714 0-21.485714-18.011429-31.085714-54.857143-31.085714-73.270857 0-110.866286 36.461714-127.744 118.564571l-13.056 61.385143H115.858286c-22.235429 0-36.827429 11.885714-36.827429 31.085714 0 16.493714 11.136 26.843429 28.781714 26.843429h43.337143L108.982857 673.005714C98.194286 723.254857 82.468571 741.668571 41.435429 741.668571c-5.376 0-10.368 0.384-14.189715 0.768-17.664 2.304-27.245714 11.885714-27.245714 28.013715 0 20.717714 17.645714 30.317714 51.803429 30.317714z m539.044571-100.918857c12.653714 0 21.101714-4.205714 30.683429-18.029714l84.022857-119.698286h1.536l85.942857 121.618286c9.6 13.44 18.797714 16.109714 28.013714 16.109714 18.413714 0 30.701714-13.037714 30.701714-28.763429 0-7.296-2.304-14.189714-7.314285-20.717714l-98.194286-133.522286 98.194286-131.602285c5.010286-6.509714 7.314286-13.421714 7.314285-21.485715 0-16.493714-13.824-27.995429-29.165714-27.995428-13.805714 0-21.869714 6.912-29.165714 18.029714l-80.950857 118.546286h-1.92l-81.334857-118.930286c-7.296-11.136-16.493714-17.645714-31.085715-17.645714-17.645714 0-31.085714 14.189714-31.085714 29.531428 0 11.136 3.090286 18.048 8.466286 24.557715l93.220571 125.074285-98.980571 136.96c-5.76 7.314286-6.912 13.824-6.912 21.504 0 14.957714 12.672 26.459429 28.013714 26.459429z" p-id="5205"></path></svg>
          </i>
          <i *ngIf="header.diff.type==='view'" nz-icon>
            <svg t="1585025948651" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8824" width="16" height="16"><path d="M512 179.2c211.712 0 390.592 140.8 448 333.824a467.584 467.584 0 0 1-896 0A467.584 467.584 0 0 1 512 179.2z m0 578.048c159.104 0 298.88-99.2 353.536-244.224a378.048 378.048 0 0 0-707.072 0A378.048 378.048 0 0 0 512 757.248z" fill="#6D7383" p-id="8825"></path><path d="M512 672a160 160 0 1 0 0-320 160 160 0 0 0 0 320z m0-64a96 96 0 1 1 0-192 96 96 0 0 1 0 192z" fill="#6D7383" p-id="8826"></path></svg>
          </i>
          <span style="margin-left: 3px;">
            <span *ngIf="header.diff.right else noItem">{{header.diff.right.name}}</span>
          </span>
        </div>
      </div>

      <div *ngIf="header.isSelected && header.items && header.items?.length>0">
        <div *ngFor="let detail of header.items" nz-row class="detail"
          [ngClass]="[selectedId===detail.id?'active':'',detail.styleClass]"
          (mouseover)="detail.styleClass='mouseover'"
          (mouseout)="detail.styleClass='mouseout'"
          (click)="onItemClick(detail)">
            <div nz-col nzSpan="12" class="detail_left">
              <i *ngIf="detail.diff.type==='column'" nz-icon>
                <svg t="1585026354221" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10341" width="16" height="16"><path d="M465.454545 279.272727h232.727273v46.545455h-232.727273V279.272727z m0 186.181818h232.727273v46.545455h-232.727273v-46.545455z m0 186.181819h232.727273v46.545454h-232.727273v-46.545454z m0-279.272728h232.727273v46.545455h-232.727273V372.363636z m0 186.181819h232.727273v46.545454h-232.727273v-46.545454zM186.181818 279.272727h139.636364v46.545455H186.181818V279.272727z m0 186.181818h139.636364v46.545455H186.181818v-46.545455z m0 186.181819h139.636364v46.545454H186.181818v-46.545454z m0-279.272728h139.636364v46.545455H186.181818V372.363636z m0 186.181819h139.636364v46.545454H186.181818v-46.545454z m186.181818-279.272728h46.545455v418.909091H372.363636V279.272727z" fill="#666666" p-id="10342"></path></svg>
              </i>
              <i *ngIf="detail.diff.type==='key'" nz-icon>
                <svg t="1585026421040" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11173" width="16" height="16"><path d="M490.208 193.088h33.568v134.272H490.208V193.088z" fill="" p-id="11174"></path><path d="M741.952 293.792A234.976 234.976 0 1 0 272 293.792a234.88 234.88 0 0 0 150.528 219.072v452.288h167.84v-116.96l50.88-50.88-50.88-50.88v-66.08l84.448-84.448-83.136-83.136c87.84-34.016 150.272-119.136 150.272-218.976z m-162.4 187.68l-22.752 8.8v35.104l70.496 70.56-70.528 70.528v93.888l36.96 36.992-36.96 36.992v97.312H456.064V489.888l-21.504-8.288a200 200 0 0 1-129.024-187.744 201.6 201.6 0 0 1 201.408-201.408 201.632 201.632 0 0 1 201.408 201.408 200.096 200.096 0 0 1-128.832 187.68z" fill="" p-id="11175"></path></svg>
              </i>
              <span style="margin-left: 3px;">
                <span *ngIf="detail.diff.left else noItem">{{detail.diff.left.name}}</span>
              </span>
            </div>
            <div nz-col nzSpan="12" class="detail_right">
              <i *ngIf="detail.diff.type==='column'" nz-icon>
                <svg t="1585026354221" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10341" width="16" height="16"><path d="M465.454545 279.272727h232.727273v46.545455h-232.727273V279.272727z m0 186.181818h232.727273v46.545455h-232.727273v-46.545455z m0 186.181819h232.727273v46.545454h-232.727273v-46.545454z m0-279.272728h232.727273v46.545455h-232.727273V372.363636z m0 186.181819h232.727273v46.545454h-232.727273v-46.545454zM186.181818 279.272727h139.636364v46.545455H186.181818V279.272727z m0 186.181818h139.636364v46.545455H186.181818v-46.545455z m0 186.181819h139.636364v46.545454H186.181818v-46.545454z m0-279.272728h139.636364v46.545455H186.181818V372.363636z m0 186.181819h139.636364v46.545454H186.181818v-46.545454z m186.181818-279.272728h46.545455v418.909091H372.363636V279.272727z" fill="#666666" p-id="10342"></path></svg>
              </i>
              <i *ngIf="detail.diff.type==='key'" nz-icon>
                <svg t="1585026421040" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11173" width="16" height="16"><path d="M490.208 193.088h33.568v134.272H490.208V193.088z" fill="" p-id="11174"></path><path d="M741.952 293.792A234.976 234.976 0 1 0 272 293.792a234.88 234.88 0 0 0 150.528 219.072v452.288h167.84v-116.96l50.88-50.88-50.88-50.88v-66.08l84.448-84.448-83.136-83.136c87.84-34.016 150.272-119.136 150.272-218.976z m-162.4 187.68l-22.752 8.8v35.104l70.496 70.56-70.528 70.528v93.888l36.96 36.992-36.96 36.992v97.312H456.064V489.888l-21.504-8.288a200 200 0 0 1-129.024-187.744 201.6 201.6 0 0 1 201.408-201.408 201.632 201.632 0 0 1 201.408 201.408 200.096 200.096 0 0 1-128.832 187.68z" fill="" p-id="11175"></path></svg>
              </i>
              <span style="margin-left: 3px;">
                <span *ngIf="detail.diff.right else noItem">{{detail.diff.right.name}}</span>
              </span>
            </div>
        </div>
      </div>

      <div *ngIf="header.isSelected && (!header.items || header.items?.length === 0)"
        [ngClass]="header.styleClass"
        (mouseover)="header.styleClass='mouseover'"
        (mouseout)="header.styleClass='mouseout'">
          <div class="detail" class="detail detail_left" >没有数据</div>
      </div>
    </div>

    <div *ngIf="diffItems.length === 0" style="text-align:center; padding-top:24px;" >
      <nz-empty nzNotFoundContent="没有发现差异！"></nz-empty>
    </div>

    <ng-template #noItem><i style="color:#ababab">&lt;不存在&gt;</i></ng-template>
</ng-container>

<ng-container *ngIf="percent !== 100">
  <div style="text-align:center;padding-top:24px;">
    <nz-progress [nzPercent]="percent" nzType="circle" [nzWidth]="80"></nz-progress>
  </div>
</ng-container>

